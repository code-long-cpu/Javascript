<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WebAPIs-day3</title>
  <link rel="stylesheet" href="WebAPIs_Day_3.css">
</head>

<body>
  <h4>🅿️105-🛑API-day3-104-表单全选反选案例(css input的checked选择器，勾选谁，谁变大)</h4>
  <h4>✅改进：扩大了checkbox勾选范围</h4>
  <div class="P105">
    <table class="P_105">
      <thead>
        <tr>
          <th>
            <label for="quanxuan">
              <input type="checkbox" class="bigcheck" id="quanxuan"><span>全选</span>
            </label>

          </th>
          <th>商品</th>
          <th>商家</th>
          <th>价格</th>
        </tr>
      </thead>
      <tbody class="zonggou">
        <tr>
          <td data-id="0">
            <input type="checkbox" class="check">
          </td>
          <td>小米手机</td>
          <td>小米</td>
          <td>￥4000</td>
        </tr>
        <tr>
          <td data-id="1">
            <input type="checkbox" class="check" id="check1">
          </td>
          <td>华为手机</td>
          <td>华为</td>
          <td>￥5000</td>
        </tr>
        <tr>
          <td data-id="2">
            <input type="checkbox" class="check">
          </td>
          <td>三星手机</td>
          <td>三星</td>
          <td>￥3000</td>
        </tr>
      </tbody>

    </table>
  </div>
  <script>
    const bigcheck = document.querySelector('.bigcheck');
    const zonggou = document.querySelector(".zonggou")
    const check = document.querySelector(".check")
    const cks = document.querySelectorAll(".check")

    // ①小框全选，大框选
    // 冒泡思想：给tbody添加时间，监听每一个input的事件
    zonggou.addEventListener("click", function (e) {
      // console.log(check.tagName); //INPUT
      // console.log(e.target.tagName); //
      if (e.target.tagName === 'TD' && e.target.hasAttribute('data-id')) {
        // console.log(e.target);
        // ⚠️控制checkbox，如果选中，点击就是取消；如果没选中，点击就是反选
        cks[e.target.dataset.id].checked = !cks[e.target.dataset.id].checked;
        // console.log(document.querySelectorAll(".check:checked").length === document.querySelectorAll(".check").length);
        bigcheck.checked = document.querySelectorAll(".check:checked").length === cks.length;
      }
    })
    // ②大框选了,小框也得逐个所有勾选，用for循环
    bigcheck.addEventListener("click", function () {
      for (let i = 0; i < cks.length; i++) {
        cks[i].checked = bigcheck.checked;
      }
    })
  </script>
  <br>
  <hr>

  <h4>✅Day2已做🅿️112-🛑APIs-day3-111-小仙兔显示导航和返回顶部案例</h4>


  <hr>
  <h4>🅿️114-🛑API-day3-114-仿京东滑动(stiky)以及bilibili导航滑动案例</h4>
  <h4>✅改进了head栏的fixed位置，不用参照浏览器窗口，而是参照div父元素</h4>
  <div class="P114">
    <div class="head">posiiton:sticky</div>
    <div class="content">显示head位置</div>
    <div class="background"></div>
  </div>
  <script>
    const P114 = document.querySelector('.P114');
    const head = document.querySelector('.head');
    const content = document.querySelector('.content');
    P114.addEventListener('scroll', function (e) {
      // console.log(11);
      const n = P114.scrollTop;
      // console.log(n);
      // console.log(content.offsetTop)
      if (n > content.offsetTop) {
        head.classList.add('fixed')
      } else {
        head.classList.remove('fixed')
      }
    });
  </script>

  <br>
  <hr>
  <br>
  <h4>🅿️114-🛑API-day3-114-仿京东滑动(stiky)以及bilibili导航滑动案例</h4>

  <h4>✅子元素的offsetLeft是相对父级的边距距离，父级得加position：relative相对位置 </h4>
  <h4>✅排他思想：默认选中第一个，删除第一个中的red，给其他添加red类 </h4>
  <h4>✅小兔导航：不用默认选中第一个的方法:复习了old判断，判断是否有red类，没有的话就直接执行下一行给其他添加red，有就去掉red然后再给其他tag添加red； </h4>
  <div class="bilibili">
    <div class="back"></div>
    <ul class="slide">
      <li class="red" data-id="0">龙龙</li>
      <li data-id="1">乐乐</li>
      <li data-id="2">晨晨</li>
      <li data-id="3">凤凤</li>
    </ul>
    <div class="stick"></div>
    <!-- <div class="tupian">
      <img src="./P97轮播图图片/1.JPG" alt="">
    </div> -->
  </div>
  <script>
    const data = [
      {
        url: "./P97轮播图图片/1.JPG",
        title: "黄山游记,人生第一次说走就走的旅行",
        color: "rgb(76, 70, 69,.7)"
      },
      {
        url: "./P97轮播图图片/5.JPG",
        title: "在泰国椰树池的露营，吃了很多",
        color: "rgb(58, 57, 51, .7)"
      },
      {
        url: "./P97轮播图图片/9.JPG",
        title: "去年冬天在汉口的某个枫树下拍照",
        color: "rgb(103, 66, 3 ,.7)"
      },
      {
        url: "./P97轮播图图片/4.JPG",
        title: "谢凤在许昌曹魏邺城的汉服拍照",
        color: "rgb(107, 17, 11,.7)"
      },]
    const slide = document.querySelector('.slide');
    const stick = document.querySelector('.stick');
    const bilibili = document.querySelector('.bilibili');
    slide.addEventListener('click', function (e) {
      if (e.target.tagName === 'LI') {
        // console.log(e.target.offsetLeft);
        // console.log(e.target.offsetParent);//ul
        stick.style.transform = `translateX(${e.target.offsetLeft}px)`;

        // 排他思想：①剔除所有red，②点谁添加谁
        document.querySelector('.slide .red').classList.remove('red');
        e.target.classList.add('red');

        // 小兔导航中：不需要默认选中第一个tab
        // const old = document.querySelector('.slide .red');
        // if (old) {
        // document.querySelector('.slide .red').classList.remove('red');
        // }
        // console.log();
        bilibili.style.backgroundImage = `url(${data[e.target.dataset.id].url})`;
      }
    })
  </script>
  <br>
  <hr>
  <h4>✅Day2已做🅿️115/116-🛑API-day3-115/116-电梯导航上下集</h4>

</body>

</html>