<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WebAPIs-day3</title>
  <link rel="stylesheet" href="WebAPIs_Day_3.css">
</head>

<body>
  <h4>ğŸ…¿ï¸105-ğŸ›‘API-day3-104-è¡¨å•å…¨é€‰åé€‰æ¡ˆä¾‹(css inputçš„checkedé€‰æ‹©å™¨ï¼Œå‹¾é€‰è°ï¼Œè°å˜å¤§)</h4>
  <h4>âœ…æ”¹è¿›ï¼šæ‰©å¤§äº†checkboxå‹¾é€‰èŒƒå›´</h4>
  <div class="P105">
    <table class="P_105">
      <thead>
        <tr>
          <th>
            <label for="quanxuan">
              <input type="checkbox" class="bigcheck" id="quanxuan"><span>å…¨é€‰</span>
            </label>

          </th>
          <th>å•†å“</th>
          <th>å•†å®¶</th>
          <th>ä»·æ ¼</th>
        </tr>
      </thead>
      <tbody class="zonggou">
        <tr>
          <td data-id="0">
            <input type="checkbox" class="check">
          </td>
          <td>å°ç±³æ‰‹æœº</td>
          <td>å°ç±³</td>
          <td>ï¿¥4000</td>
        </tr>
        <tr>
          <td data-id="1">
            <input type="checkbox" class="check" id="check1">
          </td>
          <td>åä¸ºæ‰‹æœº</td>
          <td>åä¸º</td>
          <td>ï¿¥5000</td>
        </tr>
        <tr>
          <td data-id="2">
            <input type="checkbox" class="check">
          </td>
          <td>ä¸‰æ˜Ÿæ‰‹æœº</td>
          <td>ä¸‰æ˜Ÿ</td>
          <td>ï¿¥3000</td>
        </tr>
      </tbody>

    </table>
  </div>
  <script>
    const bigcheck = document.querySelector('.bigcheck');
    const zonggou = document.querySelector(".zonggou")
    const check = document.querySelector(".check")
    const cks = document.querySelectorAll(".check")

    // â‘ å°æ¡†å…¨é€‰ï¼Œå¤§æ¡†é€‰
    // å†’æ³¡æ€æƒ³ï¼šç»™tbodyæ·»åŠ æ—¶é—´ï¼Œç›‘å¬æ¯ä¸€ä¸ªinputçš„äº‹ä»¶
    zonggou.addEventListener("click", function (e) {
      // console.log(check.tagName); //INPUT
      // console.log(e.target.tagName); //
      if (e.target.tagName === 'TD' && e.target.hasAttribute('data-id')) {
        // console.log(e.target);
        // âš ï¸æ§åˆ¶checkboxï¼Œå¦‚æœé€‰ä¸­ï¼Œç‚¹å‡»å°±æ˜¯å–æ¶ˆï¼›å¦‚æœæ²¡é€‰ä¸­ï¼Œç‚¹å‡»å°±æ˜¯åé€‰
        cks[e.target.dataset.id].checked = !cks[e.target.dataset.id].checked;
        // console.log(document.querySelectorAll(".check:checked").length === document.querySelectorAll(".check").length);
        bigcheck.checked = document.querySelectorAll(".check:checked").length === cks.length;
      }
    })
    // â‘¡å¤§æ¡†é€‰äº†,å°æ¡†ä¹Ÿå¾—é€ä¸ªæ‰€æœ‰å‹¾é€‰ï¼Œç”¨forå¾ªç¯
    bigcheck.addEventListener("click", function () {
      for (let i = 0; i < cks.length; i++) {
        cks[i].checked = bigcheck.checked;
      }
    })
  </script>
  <br>
  <hr>

  <h4>âœ…Day2å·²åšğŸ…¿ï¸112-ğŸ›‘APIs-day3-111-å°ä»™å…”æ˜¾ç¤ºå¯¼èˆªå’Œè¿”å›é¡¶éƒ¨æ¡ˆä¾‹</h4>


  <hr>
  <h4>ğŸ…¿ï¸114-ğŸ›‘API-day3-114-ä»¿äº¬ä¸œæ»‘åŠ¨(stiky)ä»¥åŠbilibiliå¯¼èˆªæ»‘åŠ¨æ¡ˆä¾‹</h4>
  <h4>âœ…æ”¹è¿›äº†headæ çš„fixedä½ç½®ï¼Œä¸ç”¨å‚ç…§æµè§ˆå™¨çª—å£ï¼Œè€Œæ˜¯å‚ç…§divçˆ¶å…ƒç´ </h4>
  <div class="P114">
    <div class="head">posiiton:sticky</div>
    <div class="content">æ˜¾ç¤ºheadä½ç½®</div>
    <div class="background"></div>
  </div>
  <script>
    const P114 = document.querySelector('.P114');
    const head = document.querySelector('.head');
    const content = document.querySelector('.content');
    P114.addEventListener('scroll', function (e) {
      // console.log(11);
      const n = P114.scrollTop;
      // console.log(n);
      // console.log(content.offsetTop)
      if (n > content.offsetTop) {
        head.classList.add('fixed')
      } else {
        head.classList.remove('fixed')
      }
    });
  </script>

  <br>
  <hr>
  <br>
  <h4>ğŸ…¿ï¸114-ğŸ›‘API-day3-114-ä»¿äº¬ä¸œæ»‘åŠ¨(stiky)ä»¥åŠbilibiliå¯¼èˆªæ»‘åŠ¨æ¡ˆä¾‹</h4>

  <h4>âœ…å­å…ƒç´ çš„offsetLeftæ˜¯ç›¸å¯¹çˆ¶çº§çš„è¾¹è·è·ç¦»ï¼Œçˆ¶çº§å¾—åŠ positionï¼šrelativeç›¸å¯¹ä½ç½® </h4>
  <h4>âœ…æ’ä»–æ€æƒ³ï¼šé»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ªï¼Œåˆ é™¤ç¬¬ä¸€ä¸ªä¸­çš„redï¼Œç»™å…¶ä»–æ·»åŠ redç±» </h4>
  <h4>âœ…å°å…”å¯¼èˆªï¼šä¸ç”¨é»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ªçš„æ–¹æ³•:å¤ä¹ äº†oldåˆ¤æ–­ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰redç±»ï¼Œæ²¡æœ‰çš„è¯å°±ç›´æ¥æ‰§è¡Œä¸‹ä¸€è¡Œç»™å…¶ä»–æ·»åŠ redï¼Œæœ‰å°±å»æ‰redç„¶åå†ç»™å…¶ä»–tagæ·»åŠ redï¼› </h4>
  <div class="bilibili">
    <div class="back"></div>
    <ul class="slide">
      <li class="red" data-id="0">é¾™é¾™</li>
      <li data-id="1">ä¹ä¹</li>
      <li data-id="2">æ™¨æ™¨</li>
      <li data-id="3">å‡¤å‡¤</li>
    </ul>
    <div class="stick"></div>
    <!-- <div class="tupian">
      <img src="./P97è½®æ’­å›¾å›¾ç‰‡/1.JPG" alt="">
    </div> -->
  </div>
  <script>
    const data = [
      {
        url: "./P97è½®æ’­å›¾å›¾ç‰‡/1.JPG",
        title: "é»„å±±æ¸¸è®°,äººç”Ÿç¬¬ä¸€æ¬¡è¯´èµ°å°±èµ°çš„æ—…è¡Œ",
        color: "rgb(76, 70, 69,.7)"
      },
      {
        url: "./P97è½®æ’­å›¾å›¾ç‰‡/5.JPG",
        title: "åœ¨æ³°å›½æ¤°æ ‘æ± çš„éœ²è¥ï¼Œåƒäº†å¾ˆå¤š",
        color: "rgb(58, 57, 51, .7)"
      },
      {
        url: "./P97è½®æ’­å›¾å›¾ç‰‡/9.JPG",
        title: "å»å¹´å†¬å¤©åœ¨æ±‰å£çš„æŸä¸ªæ«æ ‘ä¸‹æ‹ç…§",
        color: "rgb(103, 66, 3 ,.7)"
      },
      {
        url: "./P97è½®æ’­å›¾å›¾ç‰‡/4.JPG",
        title: "è°¢å‡¤åœ¨è®¸æ˜Œæ›¹é­é‚ºåŸçš„æ±‰æœæ‹ç…§",
        color: "rgb(107, 17, 11,.7)"
      },]
    const slide = document.querySelector('.slide');
    const stick = document.querySelector('.stick');
    const bilibili = document.querySelector('.bilibili');
    slide.addEventListener('click', function (e) {
      if (e.target.tagName === 'LI') {
        // console.log(e.target.offsetLeft);
        // console.log(e.target.offsetParent);//ul
        stick.style.transform = `translateX(${e.target.offsetLeft}px)`;

        // æ’ä»–æ€æƒ³ï¼šâ‘ å‰”é™¤æ‰€æœ‰redï¼Œâ‘¡ç‚¹è°æ·»åŠ è°
        document.querySelector('.slide .red').classList.remove('red');
        e.target.classList.add('red');

        // å°å…”å¯¼èˆªä¸­ï¼šä¸éœ€è¦é»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ªtab
        // const old = document.querySelector('.slide .red');
        // if (old) {
        // document.querySelector('.slide .red').classList.remove('red');
        // }
        // console.log();
        bilibili.style.backgroundImage = `url(${data[e.target.dataset.id].url})`;
      }
    })
  </script>
  <br>
  <hr>
  <h4>âœ…Day2å·²åšğŸ…¿ï¸115/116-ğŸ›‘API-day3-115/116-ç”µæ¢¯å¯¼èˆªä¸Šä¸‹é›†</h4>

</body>

</html>