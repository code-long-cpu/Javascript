<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/Vueæ ¸å¿ƒæŠ€æœ¯ä¸å®æˆ˜/day_3.css">
  <title>day_3</title>
</head>

<body>
  <hr>
  <h3>ğŸŸ¢P35-ç¬¬ä¸‰å¤©è¯¾ç¨‹ä»‹ç»</h3>


  <hr>
  <h3>ğŸŸ¢P36-ç”Ÿå‘½å‘¨æœŸå’Œç”Ÿå‘½å‘¨æœŸçš„å››ä¸ªé˜¶æ®µ</h3>
  <div class="jietu">
    <!-- <img src="../lesson_images/1.png" alt=""> -->
    <br>
    <img src="../lesson_images/2.png" alt="">
  </div>

  <br>
  <h4>å°ğŸ²ä»£ç æ“ä½œï¼ˆ8ä¸ªé’©å­å‡½æ•°ï¼‰</h4>
  <span>beforeCreate()/created()/beforeMount()/mounted()</span>
  <span>beforeUpdate()/updated()/beforeDestroy()/destroyed()</span>
  <div class="jishiqi" id="app_36">
    <h3>{{title}}</h3>
    <button @click="count--">-</button>
    <span>{{count}}</span>
    <button @click="count++">+</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.16/dist/vue.js"></script>

  <script>
    const app_36 = new Vue({
      el: '#app_36',
      data: {
        title: 'è®¡æ—¶å™¨',
        count: 100,
      },
      // 1.ï¼ˆæ£€æµ‹æ•°æ®ï¼‰åˆ›å»ºé˜¶æ®µå‡†å¤‡æ•°æ®
      beforeCreate() {
        console.log('beforeCreatæ•°æ®åˆ›å»ºå‰:', this.title);
      },
      created() {
        console.log('Createdæ•°æ®åˆ›å»ºå:', this.title);

      },
      // 2.ï¼ˆæ£€æµ‹domï¼‰æŒ‚åœ¨é˜¶æ®µæ¸²æŸ“æ¨¡æ¿
      beforeMount() {
        console.log('beforeMountæ¨¡æ¿åˆ›å»ºå‰:', document.querySelector('.jishiqi h3').innerHTML);
      },
      mounted() {
        console.log('mountedæ¨¡æ¿åˆ›å»ºå:', document.querySelector('.jishiqi h3').innerHTML);

      },
      // 3.ï¼ˆæ£€æµ‹domï¼‰æ›´æ–°é˜¶æ®µï¼Œä¿®æ”¹æ•°æ®ï¼Œdomæ›´æ–°ï¼Œæ›´æ–°è§†å›¾
      beforeUpdate() {
        console.log('bbeforeUpdateæ•°æ®æ›´æ–°å‰:', document.querySelector('.jishiqi span').innerHTML)
      },
      updated() {
        console.log('updatedæ•°æ®æ›´æ–°å:', document.querySelector('.jishiqi span').innerHTML)

      },
      // 4.é”€æ¯é˜¶æ®µï¼Œé”€æ¯å®ä¾‹
      beforeDestroy() {
        // åœ¨consoleä¸­ç”¨ app_36.$destroy()æ“ä½œ
        console.log('beforeDestroy')
      },
      destroyed() {
        console.log('destroyed')

      }
    })
  </script>


  <hr>
  <h3>ğŸŸ¢P37-ç”Ÿå‘½å‘¨æœŸä¸¤ä¸ªä¾‹å­-åˆå§‹åŒ–æ¸²æŸ“created()å’Œè‡ªåŠ¨è·å–ç„¦ç‚¹mounted()</h3>

  <h4>å°ğŸ²å†™æ¡ˆä¾‹</h4>
  <div class="P37" id="app_P37">
    <div class="left">

      <ul>
        <li v-for="(item,index) in list" :key="item.id">
          <div class="left_content">
            <div class="title">{{item.title}}</div>
            <div class="zhujiao">
              <span>{{item.source}}</span>
              <span>{{item.time}}</span>
            </div>
          </div>
          <div class="right_content">
            <img :src="item.img" alt="">
          </div>
        </li>

      </ul>
    </div>
    <div class="right">
      <img src="/icon/icon-password.png" alt="">
      <div class="search_area">
        <input type="text" class="inp"><button>æœç´¢ä¸€ä¸‹</button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.16/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <script>
    const app_P37 = new Vue({
      el: '#app_P37',
      data: {
        list: [],
      },
      // â‘ createdé¡¹ç›®å¯åŠ¨å‰ï¼Œæ•°æ®åŠ è½½åï¼Œè¯·æ±‚æ•°æ®
      async created() {
        const res = await axios({ url: 'http://hmajax.itheima.net/api/news' });
        console.log(res.data.data);
        this.list = res.data.data;
      },

      // â‘¡mountedè‡ªåŠ¨è·å–ç„¦ç‚¹,domæ¨¡æ¿åˆ›å»ºåï¼Œå¯ä»¥æ“ä½œdomå…ƒç´ inputï¼Œå†è¿›è¡Œç„¦ç‚¹é”å®šã€‚
      mounted() {
        document.querySelector('.inp').focus();
      }

      // å‚¨å­˜å‚¨å­˜
    })
  </script>



  <hr>
  <h3>ğŸŸ£P38-å°é»‘è®°è´¦æ¸…å•-æ¸²æŸ“&æ·»åŠ &åˆ é™¤</h3>
  <h4>å°ğŸ²è®°è´¦æ¸…å•</h4>
  <div class="p38" id="app_38">
    <div class="jizhang">
      <div class="shuru">
        <input v-model.trim="name" type="text" name="" id="" placeholder="æ¶ˆè´¹åç§°">
        <input v-model.number="price" type="text" name="" id="" placeholder="æ¶ˆè´¹ä»·æ ¼">
        <button @click="add">æ·»åŠ è´¦å•</button>
      </div>
      <div class="biaoge_head">
        <table>
          <thead>
            <tr>
              <th>ç¼–å·</th>
              <th>æ¶ˆè´¹åç§°</th>
              <th>æ¶ˆè´¹ä»·æ ¼</th>
              <th>æ“ä½œ</th>
            </tr>
          </thead>
        </table>
      </div>

      <div class="biaoge_body">
        <table>

          <tbody v-if="zhangdan.length>0">
            <tr v-for="(item,index) in zhangdan" :key="item.id">
              <td>{{item.id}}</td>
              <td>{{item.name}}</td>
              <td :class="{red:item.price>500}">{{item.price.toFixed(2)}}</td>
              <td><a href="" @click.prevent="delet(item.id)">åˆ é™¤</a></td>
            </tr>

          </tbody>
          <tbody v-else class="zanwushuju">
            <tr>
              <td>æš‚æ— æ•°æ®</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="biaoge_foot">
        <table>
          <tbody>
            <tr>
              <td>æ¶ˆè´¹æ€»è®¡ï¼š{{totalPrice.toFixed(2)}}</td>
            </tr>
          </tbody>
        </table>
      </div>

    </div>
    <div class="chart_box" id="main_chart"></div>
  </div>


  <!-- <div class="big">
    <div class="a"></div>
    <div class="chart-box" id="main_chart"></div>
  </div> -->


  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.16/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <!-- æ¥å£æ–‡æ¡£ï¼š -->
  <!-- https://www.apifox.cn/apidoc/shared-24459455-ebb1-4fdc-8df8-0aff8dc317a8/api-53371058 -->
  <!-- å›¾æ ‡echartåŒ… -->
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.1/dist/echarts.min.js"></script>
  <!-- <script src="../echarts.min.js"></script> -->


  <script>
    const app_38 = new Vue({
      el: '#app_38',
      data: {
        zhangdan: [],
        // zhangdan: [
        //   { id: 1, name: 'æ‰‹è¡¨', price: '4000' },
        //   { id: 2, name: 'æ‰‹æœº', price: '453' },
        //   { id: 3, name: 'ç”µè§†', price: '563' },
        //   { id: 4, name: 'æ²™å‘', price: '23' },
        //   { id: 5, name: 'ç”µè„‘', price: '4352' },
        //   { id: 6, name: 'ç¬”è®°æœ¬', price: '3435' },
        //   { id: 7, name: 'ç‰›å¥¶', price: '23' },
        //   { id: 8, name: 'å¡‘æ–™è¢‹', price: '323' },
        // ]
        name: '',
        price: '',
      },
      // è®¡ç®—å±æ€§-è®¡ç®—æ€»ä»·
      computed: {
        totalPrice() {
          return this.zhangdan.reduce((sum, item) => sum + item.price, 0)
        }
      },
      // â‘ æ•°æ®åˆå§‹åŒ–åå°±å‘é€getè¯·æ±‚ï¼Œè·å–è´¦å•åˆ—è¡¨
      created() {
        // éœ€è¦å°è£…èµ·æ¥ï¼Œå¤šæ¬¡è°ƒç”¨ï¼š1-é¡µé¢å¯åŠ¨è°ƒç”¨ï¼Œ2-æ·»åŠ æ•°æ®è°ƒç”¨
        // const res = await axios(
        //   {
        //     url: 'https://applet-base-api-t.itheima.net/bill',
        //     params: { creator: 'é¾™é¾™' }
        //   })
        // console.log(res)
        // this.zhangdan = res.data.data;
        this.getlist();
      },
      mounted() {
        this.mychart = echarts.init(document.querySelector('#main_chart'));
        this.mychart.setOption({
          title: {
            text: "å°ğŸ²è®°è´¦è¯·æ‰“",
            left: 'center',
          },
          tooltip: {
            trigger: 'item'
          },
          legend: {
            top: '5%',
            left: 'center'
          },
          series: [
            {
              name: 'å°ğŸ²è®°è´¦æ¸…å•',
              type: 'pie',
              radius: ['30%', '60%'],
              avoidLabelOverlap: false,
              itemStyle: {
                borderRadius: 5,
                borderColor: '#fff',
                borderWidth: 3
              },
              label: {
                show: false,
                position: 'center'
              },
              emphasis: {
                label: {
                  show: true,
                  fontSize: 40,
                  fontWeight: 'bold'
                }
              },
              labelLine: {
                show: false
              },
              data: [
                { value: 1048, name: 'Search Engine' },
                { value: 735, name: 'Direct' },
                { value: 580, name: 'Email' },
                { value: 484, name: 'Union Ads' },
                { value: 300, name: 'Video Ads' }
              ]
            }
          ]
        })
      },

      methods: {
        // å‘è¯·æ±‚getæ‹‰å–æ•°æ®
        async getlist() {
          const res = await axios(
            {
              url: 'https://applet-base-api-t.itheima.net/bill',
              params: { creator: 'é¾™é¾™' }
            })
          console.log(res)
          this.zhangdan = res.data.data;

        },
        // â‘ å‘é€æ·»åŠ æ•°æ®è¯·æ±‚post
        async add() {
          // 1éªŒè¯æ¶ˆè´¹åç§°
          if (this.name === '') {
            alert("è¯·è¾“å…¥æ¶ˆè´¹åç§°")
            return
          }
          // 2éªŒè¯æ¶ˆè´¹ä»·æ ¼
          if (this.price === '') {
            alert("è¯·è¾“å…¥æ¶ˆè´¹ä»·æ ¼")
            return
          }
          // 3å‘é€æ·»åŠ æ•°æ®è¯·æ±‚post
          // è¿™é‡Œåˆ›å»ºçš„resçš„å˜é‡å…¶å®æ²¡å•¥ç”¨
          const res = await axios(
            {
              url: 'https://applet-base-api-t.itheima.net/bill',
              method: 'post',
              data: {
                creator: 'é¾™é¾™',
                name: this.name,
                price: this.price,
              }
            });

          // â‘¡åç«¯æ•°æ®postå·²ä¿®æ”¹ï¼Œé‡æ–°æ‹‰å–getæ•°æ®
          this.getlist();
          this.name = '';
          this.price = '';

        },
        // â‘¢å‘é€åˆ é™¤æ•°æ®æ®è¯·æ±‚delet
        async delet(id) {
          // console.log(id)
          const res = await axios(
            {
              url: `https://applet-base-api-t.itheima.net/bill/${id}`,
              method: 'delete',
            })
          this.getlist();
        }
      }
    })
  </script>






  <hr>
  <h3>ğŸŸ£P39-å°é»‘è®°è´¦æ¸…å•-é¥¼å›¾æ¸²æŸ“</h3>

  <hr>
  <h3>ğŸŸ¢P40-å·¥ç¨‹åŒ–å¼€å‘å’Œè„šæ‰‹æ¶</h3>

  <hr>
  <h3>ğŸŸ¢P41-é¡¹ç›®ç›®å½•ä»‹ç»å’Œè¿è¡Œæµç¨‹</h3>

  <hr>
  <h3>ğŸŸ¢P42-ç»„ä»¶åŒ–å¼€å‘å’Œæ ¹ç»„ä»¶</h3>

  <hr>
  <h3>ğŸŸ¢P43-æ™®é€šç»„ä»¶çš„æ³¨å†Œ-å±€éƒ¨æ³¨å†Œ</h3>

  <hr>
  <h3>ğŸŸ¢P44-æ™®é€šç»„ä»¶çš„æ³¨å†Œ-å…¨å±€æ³¨å†Œ</h3>

  <hr>
  <h3>ğŸŸ£P45-å°å…”ä»™é¦–é¡µ-æ‹†åˆ†æ¨¡å—ç»„ä»¶-å±€éƒ¨æ³¨å†Œ</h3>

  <hr>
  <h3>ğŸŸ£P46-å°å…”ä»™é¦–é¡µ-å®ç°ç»“æ„å’Œæ ·å¼å¹¶æ‹†åˆ†æ ·å¼</h3>


  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
</body>

</html>